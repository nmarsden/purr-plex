(this["webpackJsonppurr-plex"]=this["webpackJsonppurr-plex"]||[]).push([[0],[,,,,function(e,t,n){e.exports={grid:"Grid_grid__3byWf",row:"Grid_row__3iB0a",cell:"Grid_cell__Gw65o",shadedCell:"Grid_shadedCell__2xhfR"}},,,function(e,t,n){e.exports={container:"DraggablePiece_container__2WQE4",isPreDragging:"DraggablePiece_isPreDragging__2WEyo"}},,function(e,t,n){e.exports={header:"GameHeader_header__31vrO"}},function(e,t,n){e.exports={container:"Piece_container__HKwIh",piece:"Piece_piece__21Hob",isCompleted:"Piece_isCompleted__29xdv","fade-out":"Piece_fade-out__1E-gz"}},function(e,t,n){e.exports={block:"Block_block__3k5af",type1a:"Block_type1a__CE7pB",type1b:"Block_type1b__1osI_",type1c:"Block_type1c__19qYn",type1d:"Block_type1d__2h7mH",type2a:"Block_type2a__mNICL",type2b:"Block_type2b__OWzjg",type2c:"Block_type2c__36yJ6",type2d:"Block_type2d__229xO",type2e:"Block_type2e__2_wbq",type2f:"Block_type2f__1h2dF",type3a:"Block_type3a__UjqB1",type3b:"Block_type3b__X-il1",type3c:"Block_type3c__2ONk0",type3d:"Block_type3d__3oMRT",type4a:"Block_type4a__2ba0F",isPreDragging:"Block_isPreDragging__3ZTOG",isDragging:"Block_isDragging__3k0tt",isMuted:"Block_isMuted__xzwBa"}},,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),f=n.n(r),o=n(6),a=n.n(o),y=(n(18),n(2)),i=n(1),c=Object(r.createContext)(null);function p(){var e=window.document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}var s=function(e){var t=e.children,n=function(){var e=Object(r.useState)(p()),t=Object(i.a)(e,2),n=t[0],f=t[1];return Object(r.useEffect)((function(){function e(){f(p())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),o=n.width,a=n.height,y=o-2*(o/18),s=a-(a/18+a/3),u=Math.floor(y/9),x=Math.floor(s/9),l=Math.min(u,x),d=9*l,g=Math.floor(.4*(a-d)),_=Math.floor(.6*(a-d)),h=g,O=Math.floor((o-d)/2),b={cellSize:l,gridSize:d,gridLeft:O,gridTop:h,headerHeight:g,footerHeight:_,draggableLeft:Math.floor(O+d/2),draggableTop:Math.floor(h+d+2.2*l)};return f.a.createElement(c.Provider,{value:b},t)},u=function(){return Object(r.useContext)(c)},x=n(9),l=n.n(x);var d=function(){var e=u().headerHeight,t={height:"".concat(e,"px")};return f.a.createElement("div",{className:l.a.header,style:t})},g=n(4),_=n.n(g),h=n(3),O=n.n(h),b=n(10),m=n.n(b),v=n(5),B=n(11),X=n.n(B),k=O.a.bind(X.a),E=function(e){var t,n=e.x,r=e.y,o=e.size,a=e.blockType,y=e.isPreDragging,i=e.isDragging,c=e.isMuted,p={width:"".concat(o+1,"px"),height:"".concat(o+1,"px"),left:"".concat(n-1,"px"),top:"".concat(r-1,"px")},s=k((t={block:!0},Object(v.a)(t,"type".concat(a),!0),Object(v.a)(t,"isPreDragging",y),Object(v.a)(t,"isDragging",i),Object(v.a)(t,"isMuted",c),t));return f.a.createElement("div",{style:p,className:s})},j=new Map([["1B",[{offset:{x:0,y:0},type:"4a"}]],["2B_I_1",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"3a"}]],["2B_I_2",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"3b"}]],["3B_I_1",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"2e"},{offset:{x:2,y:0},type:"3a"}]],["3B_I_2",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"2f"},{offset:{x:0,y:2},type:"3b"}]],["3B_L_1",[{offset:{x:0,y:1},type:"3c"},{offset:{x:1,y:0},type:"3d"},{offset:{x:1,y:1},type:"2b"}]],["3B_L_2",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"2a"},{offset:{x:1,y:1},type:"3b"}]],["3B_L_3",[{offset:{x:0,y:0},type:"2d"},{offset:{x:0,y:1},type:"3b"},{offset:{x:1,y:0},type:"3a"}]],["3B_L_4",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"2c"},{offset:{x:1,y:1},type:"3a"}]],["4B_O",[{offset:{x:0,y:0},type:"2d"},{offset:{x:0,y:1},type:"2c"},{offset:{x:1,y:0},type:"2a"},{offset:{x:1,y:1},type:"2b"}]],["4B_L_1",[{offset:{x:0,y:1},type:"3c"},{offset:{x:1,y:1},type:"2e"},{offset:{x:2,y:0},type:"3d"},{offset:{x:2,y:1},type:"2b"}]],["4B_L_2",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"2a"},{offset:{x:1,y:1},type:"2f"},{offset:{x:1,y:2},type:"3b"}]],["4B_L_3",[{offset:{x:0,y:0},type:"2d"},{offset:{x:0,y:1},type:"3b"},{offset:{x:1,y:0},type:"2e"},{offset:{x:2,y:0},type:"3a"}]],["4B_L_4",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"2f"},{offset:{x:0,y:2},type:"2c"},{offset:{x:1,y:2},type:"3a"}]],["4B_J_1",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"2e"},{offset:{x:2,y:0},type:"2a"},{offset:{x:2,y:1},type:"3b"}]],["4B_J_2",[{offset:{x:0,y:2},type:"3c"},{offset:{x:1,y:0},type:"3d"},{offset:{x:1,y:1},type:"2f"},{offset:{x:1,y:2},type:"2b"}]],["4B_J_3",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"2c"},{offset:{x:1,y:1},type:"2e"},{offset:{x:2,y:1},type:"3a"}]],["4B_J_4",[{offset:{x:0,y:0},type:"2d"},{offset:{x:0,y:1},type:"2f"},{offset:{x:0,y:2},type:"3b"},{offset:{x:1,y:0},type:"3a"}]],["4B_Z_1",[{offset:{x:0,y:1},type:"2d"},{offset:{x:0,y:2},type:"3b"},{offset:{x:1,y:0},type:"3d"},{offset:{x:1,y:1},type:"2b"}]],["4B_Z_2",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"2a"},{offset:{x:1,y:1},type:"2c"},{offset:{x:2,y:1},type:"3a"}]],["4B_S_1",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"2c"},{offset:{x:1,y:1},type:"2a"},{offset:{x:1,y:2},type:"3b"}]],["4B_S_2",[{offset:{x:0,y:1},type:"3c"},{offset:{x:1,y:0},type:"2d"},{offset:{x:1,y:1},type:"2b"},{offset:{x:2,y:0},type:"3a"}]],["4B_T_1",[{offset:{x:0,y:1},type:"3c"},{offset:{x:1,y:0},type:"3d"},{offset:{x:1,y:1},type:"1c"},{offset:{x:2,y:1},type:"3a"}]],["4B_T_2",[{offset:{x:0,y:1},type:"3c"},{offset:{x:1,y:0},type:"3d"},{offset:{x:1,y:1},type:"1b"},{offset:{x:1,y:2},type:"3b"}]],["4B_T_3",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"1a"},{offset:{x:1,y:1},type:"3b"},{offset:{x:2,y:0},type:"3a"}]],["4B_T_4",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"1d"},{offset:{x:0,y:2},type:"3b"},{offset:{x:1,y:1},type:"3a"}]],["4B_I_1",[{offset:{x:0,y:0},type:"3c"},{offset:{x:1,y:0},type:"2e"},{offset:{x:2,y:0},type:"2e"},{offset:{x:3,y:0},type:"3a"}]],["4B_I_2",[{offset:{x:0,y:0},type:"3d"},{offset:{x:0,y:1},type:"2f"},{offset:{x:0,y:2},type:"2f"},{offset:{x:0,y:3},type:"3b"}]]]),w=function(e,t,n){return(j.get(n)||[]).map((function(n){return{x:e+n.offset.x,y:t+n.offset.y}}))},M=function(e){for(var t=[],n=0;n<9;n++){var r=[];t.push(r);for(var f=0;f<9;f++)r.push(e)}return t},D=function(e){var t=M(!1);return e.forEach((function(e){w(e.gridX,e.gridY,e.shape).forEach((function(e){t[e.x][e.y]=!0}))})),t},S=O.a.bind(m.a),P=function(e){var t=e.x,n=e.y,r=e.shape,o=e.isDraggable,a=e.isPreDragging,y=e.isDragging,i=e.isMuted,c=e.isCompleted,p=u().cellSize,s=function(e,t,n,r,o,a,y){return(j.get(r)||[]).map((function(r,i){return f.a.createElement(E,{key:i,x:e+r.offset.x*n,y:t+r.offset.y*n,size:n,blockType:a?"4a":r.type,isPreDragging:o,isDragging:a,isMuted:y})}))}(p*t,p*n,o&&!y?Math.floor(p/2):p,r,a,y,i),x=L(r,p),l={width:"".concat(x.width,"px"),height:"".concat(x.height,"px")},d=S({container:!0,isCompleted:c}),g=S({piece:!0});return f.a.createElement("div",{style:l,className:d},f.a.createElement("div",{style:l,className:g},s))},z=function(){return Array.from(j.keys())[Math.floor(Math.random()*j.size)]},L=function(e,t){for(var n=(j.get(e)||[]).map((function(e){return e.offset})),r=n[0].x,f=n[0].y,o=n[0].x,a=n[0].y,y=1,i=n.length;y<i;y++){var c=n[y].x,p=n[y].y;r=c<r?c:r,f=p<f?p:f,o=c>o?c:o,a=p>a?p:a}return{width:(o-r+1)*t,height:(a-f+1)*t}},Y=function(e,t){for(var n=D(t),r=M(!1),f=0;f<9;f++)for(var o=function(t){var o=!0;w(f,t,e).forEach((function(e){o=o&&e.x<9&&e.y<9&&!n[e.x][e.y]})),r[f][t]=o},a=0;a<9;a++)o(a);return r},N=function(e,t){var n=e.gridX,r=e.gridY,f=e.shape,o=[],a=[0,1,2,3,4,5,6,7,8],i=D(t);return w(n,r,f).forEach((function(e){if(i[e.x].every((function(e){return e}))){var t=a.map((function(t){return{x:e.x,y:t}}));o.push.apply(o,Object(y.a)(t))}if(a.every((function(t){return i[t][e.y]}))){var n=a.map((function(t){return{x:t,y:e.y}}));o.push.apply(o,Object(y.a)(n))}var r=function(e){for(var t=[],n=3*Math.floor(e.x/3),r=3*Math.floor(e.y/3),f=0;f<3;f++)for(var o=0;o<3;o++)t.push({x:n+f,y:r+o});return t}(e);r.every((function(e){var t=e.x,n=e.y;return i[t][n]}))&&o.push.apply(o,Object(y.a)(r))})),o},T=function(e,t){var n=e[t];return e.some((function(e){return e.x===n.x&&e.y===n.y+1||e.x===n.x&&e.y===n.y-1||e.y===n.y&&e.x===n.x+1||e.y===n.y&&e.x===n.x-1}))},C=function(e,t){return e.length===t.length&&e.every((function(e,n){return e.x===t[n].x&&e.y===t[n].y}))},I=function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:0},G=function(e){for(var t=function(e){return function(e){return e.map((function(e){return{x:e.x,y:e.y}}))}(e).sort(I)}(e),n=0,r=Array.from(j.keys());n<r.length;n++){var f=r[n],o=(j.get(f)||[]).map((function(e){return e.offset}));if(C(t,o))return f}return"UNKNOWN"},H=function(e,t){var n,r,f=[];return function(e){for(var t=[],n=[],r=0;r<e.length;r++)T(e,r)?n.push(e[r]):t.push([e[r]]);return n.length>0&&t.push(n),t}(function(e,t){return e.filter((function(e){return!t.some((function(t){return t.x===e.x&&t.y===e.y}))}))}((j.get(e.shape)||[]).map((function(e){return e.offset})),(n=e.gridX,r=e.gridY,t.map((function(e){return{x:e.x-n,y:e.y-r}}))))).forEach((function(t){var n=function(e,t,n){var r=Math.min.apply(Math,Object(y.a)(n.map((function(e){return e.x})))),f=Math.min.apply(Math,Object(y.a)(n.map((function(e){return e.y}))));return{gridX:e+r,gridY:t+f,shape:G(n.map((function(e){return{x:e.x-r,y:e.y-f}})))}}(e.gridX,e.gridY,t);f.push(n)})),f},J=function(e){var t=e.placedPieces,n=e.hoverPiece,r=e.completedBlocks,o=u(),a=o.cellSize,y={left:"".concat(o.gridLeft,"px"),top:"".concat(o.gridTop,"px")},i={width:"".concat(a,"px"),height:"".concat(a,"px")},c=["OOOXXXOOO","OOOXXXOOO","OOOXXXOOO","XXXOOOXXX","XXXOOOXXX","XXXOOOXXX","OOOXXXOOO","OOOXXXOOO","OOOXXXOOO"].map((function(e,t){var n=[];return e.split("").forEach((function(e,t){n.push(f.a.createElement("div",{key:t,style:i,className:"O"===e?_.a.cell:_.a.shadedCell}))})),f.a.createElement("div",{key:t,className:_.a.row},n)}));return f.a.createElement("div",{style:y,className:_.a.grid},c,t.map((function(e,t){return f.a.createElement(P,{key:t,x:e.gridX,y:e.gridY,shape:e.shape})})),n&&f.a.createElement(P,{key:999,x:n.gridX,y:n.gridY,shape:n.shape,isMuted:!0}),r.map((function(e,t){return f.a.createElement(P,{key:100+t,x:e.gridX,y:e.gridY,shape:e.shape,isCompleted:!0})})))},W=n(7),q=n.n(W),R=n(12),Z=n.n(R),A=O.a.bind(q.a),F=function(e){var t=e.shape,n=e.onDrag,o=e.onDragStop,a=u(),y=L(t,a.cellSize),c=L(t,a.cellSize/2),p={x:(y.width-c.width)/2,y:(y.height-c.height)/2},s=Object(r.useState)(!0),x=Object(i.a)(s,2),l=x[0],d=x[1],g=Object(r.useState)(!1),_=Object(i.a)(g,2),h=_[0],O=_[1],b=Object(r.useState)(p),m=Object(i.a)(b,2),v=m[0],B=m[1],X=-2*a.cellSize,k={left:"".concat(a.draggableLeft-y.width/2,"px"),top:"".concat(a.draggableTop-y.height/2,"px")},E=A({isPreDragging:l}),j=function(e){var n=e.node.getBoundingClientRect(),r=a.cellSize/2,f=Math.floor((n.left+r-a.gridLeft)/a.cellSize),o=Math.floor((n.top+r-a.gridTop)/a.cellSize);return{isInsideGrid:f>=0&&f<=8&&o>=0&&o<=8,gridX:f,gridY:o,shape:t}};return f.a.createElement("div",{style:k,className:q.a.container},f.a.createElement(Z.a,{position:v,onStart:function(){d(!0),B({x:0,y:X}),O(!0)},onDrag:function(e,t){d(!1),n(j(t))},onStop:function(e,t){var n=j(t);B(p),O(!1),o(n)}},f.a.createElement("div",{className:E},f.a.createElement(P,{x:0,y:0,shape:t,isDraggable:!0,isPreDragging:l,isDragging:h}))))},K=z(),U=[],Q=Y(K,[]);var V=function(){var e=Object(r.useState)(U),t=Object(i.a)(e,2),n=t[0],o=t[1],a=Object(r.useState)(),c=Object(i.a)(a,2),p=c[0],u=c[1],x=Object(r.useState)([]),l=Object(i.a)(x,2),g=l[0],_=l[1],h=Object(r.useState)(K),O=Object(i.a)(h,2),b=O[0],m=O[1],v=function(e,t,n){return e&&Q[t][n]};return f.a.createElement(s,null,f.a.createElement("div",null,f.a.createElement(d,null),f.a.createElement(J,{placedPieces:n,hoverPiece:p,completedBlocks:g}),f.a.createElement(F,{shape:b,onDrag:function(e){var t=e.isInsideGrid,n=e.gridX,r=e.gridY,f=e.shape;v(t,n,r)?u({gridX:n,gridY:r,shape:f}):u(null)},onDragStop:function(e){var t=e.isInsideGrid,r=e.gridX,f=e.gridY,a=e.shape;if(v(t,r,f)){var i={gridX:r,gridY:f,shape:a},c=[].concat(Object(y.a)(n),[i]),p=N(i,c);p.length>0&&(c=function(e,t){var n=[];return e.forEach((function(e){var r=w(e.gridX,e.gridY,e.shape),f=r.filter((function(e){return t.some((function(t){return t.x===e.x&&t.y===e.y}))}));if(0===f.length)n.push(e);else if(f.length!==r.length){var o=H(e,f);n.push.apply(n,Object(y.a)(o))}})),n}(c,p),_(p.map((function(e){return{gridX:e.x,gridY:e.y,shape:"1B"}}))),window.setTimeout((function(){_([])}),500)),o(c),function(e){var t=z();m(t),Q=Y(t,e)}(c)}u(null)}})))};a.a.render(f.a.createElement(V,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.8634ac95.chunk.js.map